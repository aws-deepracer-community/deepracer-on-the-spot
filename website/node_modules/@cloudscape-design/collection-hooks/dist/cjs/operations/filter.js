"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.filter = exports.createFilterPredicate = void 0;
function defaultFilteringFunction(item, filteringText, filteringFields) {
    if (filteringText.length === 0) {
        return true;
    }
    filteringFields = filteringFields || Object.keys(item);
    var lowFilteringText = filteringText.toLowerCase();
    return filteringFields.some(function (key) {
        return String(item[key])
            .toLowerCase()
            .indexOf(lowFilteringText) > -1;
    });
}
function createFilterPredicate(filtering, filteringText) {
    var _a;
    if (filteringText === void 0) { filteringText = ''; }
    if (!filtering) {
        return null;
    }
    var filteringFunction = (_a = filtering.filteringFunction) !== null && _a !== void 0 ? _a : defaultFilteringFunction;
    return function (item) { return filteringFunction(item, filteringText, filtering.fields); };
}
exports.createFilterPredicate = createFilterPredicate;
// Keeping this function as there are customers depending on it.
function filter(items, filteringText, filteringOptions) {
    if (filteringText === void 0) { filteringText = ''; }
    var predicate = createFilterPredicate(filteringOptions, filteringText);
    return predicate ? items.filter(predicate) : items;
}
exports.filter = filter;
