{"version":3,"file":"closed-annotation.js","sourceRoot":"","sources":["../../../../src/annotation-context/annotation/closed-annotation.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAEhE,OAAO,iBAAiB,MAAM,sBAAsB,CAAC;AAcrD,MAAM,UAAU,gBAAgB,CAAC,EAC/B,eAAe,EACf,MAAM,EACN,WAAW,EACX,aAAa,EACb,eAAe,EACf,kBAAkB,GACF;IAChB,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,CAA2B,IAAI,CAAC,CAAC;IAC7E,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE;QAC/B,MAAM,CAAC,eAAe,CAAC,CAAC;IAC1B,CAAC,EAAE,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC,CAAC;IAE9B,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,aAAa,IAAI,UAAU,EAAE;YAC/B,UAAU,CAAC,KAAK,EAAE,CAAC;SACpB;IACH,CAAC,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC,CAAC;IAEhC,OAAO,CACL,oBAAC,iBAAiB,IAChB,IAAI,EAAE,KAAK,EACX,OAAO,EAAE,OAAO,EAChB,WAAW,EAAE,WAAW,EACxB,GAAG,EAAE,aAAa,EAClB,eAAe,EAAE,eAAe,EAChC,kBAAkB,EAAE,kBAAkB,GACtC,CACH,CAAC;AACJ,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { AnnotationContextProps } from '../interfaces';\nimport AnnotationTrigger from './annotation-trigger';\n\nexport interface AnnotationProps {\n  globalStepIndex: number;\n\n  onOpen: (stepId: number) => void;\n\n  i18nStrings: AnnotationContextProps['i18nStrings'];\n\n  focusOnRender: boolean;\n  totalLocalSteps: number;\n  taskLocalStepIndex: number;\n}\n\nexport function ClosedAnnotation({\n  globalStepIndex,\n  onOpen,\n  i18nStrings,\n  focusOnRender,\n  totalLocalSteps,\n  taskLocalStepIndex,\n}: AnnotationProps) {\n  const [hotspotRef, setHotspotRef] = useState<HTMLButtonElement | null>(null);\n  const onClick = useCallback(() => {\n    onOpen(globalStepIndex);\n  }, [globalStepIndex, onOpen]);\n\n  useEffect(() => {\n    if (focusOnRender && hotspotRef) {\n      hotspotRef.focus();\n    }\n  }, [focusOnRender, hotspotRef]);\n\n  return (\n    <AnnotationTrigger\n      open={false}\n      onClick={onClick}\n      i18nStrings={i18nStrings}\n      ref={setHotspotRef}\n      totalLocalSteps={totalLocalSteps}\n      taskLocalStepIndex={taskLocalStepIndex}\n    />\n  );\n}\n"]}