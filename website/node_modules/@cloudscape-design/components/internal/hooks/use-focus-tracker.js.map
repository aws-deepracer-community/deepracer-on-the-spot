{"version":3,"file":"use-focus-tracker.js","sourceRoot":"","sources":["../../../../src/internal/hooks/use-focus-tracker.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,EAAE,MAAM,EAAE,SAAS,EAAoB,MAAM,OAAO,CAAC;AAC5D,OAAO,EAA6B,sBAAsB,EAAE,MAAM,WAAW,CAAC;AAC9E,OAAO,YAAY,MAAM,kBAAkB,CAAC;AAU5C,MAAM,CAAC,MAAM,eAAe,GAAoB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE;IAC/E,MAAM,YAAY,GAAG,MAAM,CAAsB,IAAI,CAAC,CAAC;IAEvD,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACpB,OAAO;SACR;QACD,YAAY,CAAC,OAAO,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE;YACvD,YAAY,EAAE,GAAG,EAAE;gBACjB,sBAAsB,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;YACD,YAAY,EAAE,GAAG,EAAE;gBACjB,sBAAsB,CAAC,OAAO,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;QACH,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;QAClC,OAAO,GAAG,EAAE;;YACV,MAAA,YAAY,CAAC,OAAO,0CAAE,OAAO,EAAE,CAAC;QAClC,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC;AACjC,CAAC,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef, useEffect, MutableRefObject } from 'react';\nimport { NonCancelableEventHandler, fireNonCancelableEvent } from '../events';\nimport FocusTracker from '../focus-tracker';\n\ninterface UseFocusTracker {\n  (inputProps: {\n    onBlur?: NonCancelableEventHandler<any>;\n    onFocus?: NonCancelableEventHandler<any>;\n    rootRef: MutableRefObject<HTMLElement | null>;\n  }): void;\n}\n\nexport const useFocusTracker: UseFocusTracker = ({ rootRef, onBlur, onFocus }) => {\n  const focusTracker = useRef<FocusTracker | null>(null);\n\n  useEffect(() => {\n    if (!rootRef.current) {\n      return;\n    }\n    focusTracker.current = new FocusTracker(rootRef.current, {\n      onFocusLeave: () => {\n        fireNonCancelableEvent(onBlur);\n      },\n      onFocusEnter: () => {\n        fireNonCancelableEvent(onFocus);\n      },\n    });\n    focusTracker.current.initialize();\n    return () => {\n      focusTracker.current?.destroy();\n    };\n  }, [rootRef, onBlur, onFocus]);\n};\n"]}