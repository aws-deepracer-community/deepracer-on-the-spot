{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../../src/internal/analytics/interfaces.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// TODO: Replace with correct type from component-toolkit\nexport interface AnalyticsMetadata {\n  instanceIdentifier?: string;\n  flowType?: 'create' | 'edit';\n  errorContext?: string;\n}\n\nexport type FunnelType = 'single-page' | 'multi-page';\n\n// Common properties for all funnels\nexport interface BaseFunnelProps {\n  funnelInteractionId: string;\n}\n\nexport interface FunnelProps extends BaseFunnelProps {\n  instanceIdentifier?: AnalyticsMetadata['instanceIdentifier'];\n  flowType?: AnalyticsMetadata['flowType'];\n  totalFunnelSteps: number;\n  optionalStepNumbers: number[];\n  funnelType: FunnelType;\n  funnelNameSelector?: string;\n}\n\nexport interface FunnelStartProps {\n  instanceIdentifier?: AnalyticsMetadata['instanceIdentifier'];\n  flowType?: AnalyticsMetadata['flowType'];\n  funnelNameSelector: string;\n  totalFunnelSteps: number;\n  optionalStepNumbers: number[];\n  stepConfiguration?: StepConfiguration[];\n  funnelType: FunnelType;\n  funnelVersion: string;\n  componentVersion: string;\n  theme: string;\n}\n\n// A function type for a generic funnel method\nexport type FunnelMethod<T extends BaseFunnelProps> = (props: T) => void;\n\n// A function type specifically for funnelStart\nexport type FunnelStartMethod = (props: FunnelStartProps) => string;\n\n// Define individual method props by extending the base\nexport interface FunnelStepProps extends BaseFunnelProps {\n  instanceIdentifier?: AnalyticsMetadata['instanceIdentifier'];\n  stepNumber: number;\n  stepName?: string | undefined;\n  stepNameSelector: string;\n  subStepAllSelector: string;\n}\n\nexport interface FunnelStepStartProps extends FunnelStepProps {\n  totalSubSteps?: number;\n  subStepConfiguration?: SubStepConfiguration[];\n}\nexport interface FunnelStepCompleteProps extends FunnelStepProps {\n  totalSubSteps?: number;\n}\n\nexport interface FunnelStepNavigationProps extends FunnelStepProps {\n  destinationStepNumber: number;\n  navigationType: string;\n  totalSubSteps?: number;\n}\n\nexport interface FunnelStepErrorProps extends FunnelStepProps {\n  stepErrorSelector: string;\n  errorContext?: AnalyticsMetadata['errorContext'];\n}\n\nexport interface FunnelSubStepProps extends FunnelStepProps {\n  instanceIdentifier?: AnalyticsMetadata['instanceIdentifier'];\n  subStepSelector: string;\n  subStepName?: string | undefined;\n  subStepNameSelector: string;\n  subStepNumber?: number;\n}\n\nexport interface FunnelSubStepErrorProps extends FunnelSubStepProps {\n  fieldLabelSelector: string;\n  fieldErrorSelector: string;\n  errorContext?: AnalyticsMetadata['errorContext'];\n}\n\nexport interface OptionalFunnelSubStepErrorProps extends FunnelSubStepProps {\n  fieldLabelSelector?: string;\n  fieldErrorSelector?: string;\n  errorContext?: AnalyticsMetadata['errorContext'];\n}\n\nexport interface FunnelLinkInteractionProps extends FunnelSubStepProps {\n  elementSelector: string;\n}\n\nexport interface FunnelChangeProps extends BaseFunnelProps {\n  stepConfiguration: StepConfiguration[];\n}\n\nexport interface FunnelStepChangeProps extends BaseFunnelProps {\n  instanceIdentifier?: AnalyticsMetadata['instanceIdentifier'];\n  stepNumber: number;\n  stepName: string;\n  stepNameSelector: string;\n  subStepAllSelector: string;\n  totalSubSteps: number;\n  subStepConfiguration: SubStepConfiguration[];\n}\n\nexport interface StepConfiguration {\n  number: number;\n  name: string;\n  isOptional: boolean;\n}\n\nexport interface SubStepConfiguration {\n  number: number;\n  name: string;\n}\n\nexport interface FunnelErrorProps extends BaseFunnelProps {\n  errorContext?: AnalyticsMetadata['errorContext'];\n}\n\n// Define the interface using the method type\nexport interface IFunnelMetrics {\n  funnelStart: FunnelStartMethod;\n  funnelError: FunnelMethod<FunnelErrorProps>;\n  funnelComplete: FunnelMethod<BaseFunnelProps>;\n  funnelSuccessful: FunnelMethod<BaseFunnelProps>;\n  funnelCancelled: FunnelMethod<BaseFunnelProps>;\n  funnelChange: FunnelMethod<FunnelChangeProps>;\n\n  funnelStepStart: FunnelMethod<FunnelStepStartProps>;\n  funnelStepComplete: FunnelMethod<FunnelStepCompleteProps>;\n  funnelStepNavigation: FunnelMethod<FunnelStepNavigationProps>;\n  funnelStepError: FunnelMethod<FunnelStepErrorProps>;\n  funnelStepChange: FunnelMethod<FunnelStepChangeProps>;\n\n  funnelSubStepStart: FunnelMethod<FunnelSubStepProps>;\n  funnelSubStepComplete: FunnelMethod<FunnelSubStepProps>;\n  funnelSubStepError: FunnelMethod<OptionalFunnelSubStepErrorProps>;\n\n  helpPanelInteracted: FunnelMethod<FunnelLinkInteractionProps>;\n  externalLinkInteracted: FunnelMethod<FunnelLinkInteractionProps>;\n}\n"]}