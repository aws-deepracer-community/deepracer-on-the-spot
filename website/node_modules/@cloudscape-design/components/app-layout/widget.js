// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import React from 'react';
import { getGlobalFlag } from '../internal/utils/global-flags';
import { useVisualRefresh } from '../internal/hooks/use-visual-mode';
import { AppLayoutImplementation } from './implementation';
export function createWidgetizedAppLayout(AppLayoutLoader) {
    return React.forwardRef((props, ref) => {
        const isRefresh = useVisualRefresh();
        if (isRefresh && getGlobalFlag('appLayoutWidget') && AppLayoutLoader) {
            return React.createElement(AppLayoutLoader, Object.assign({ ref: ref }, props));
        }
        return React.createElement(AppLayoutImplementation, Object.assign({ ref: ref }, props));
    });
}
//# sourceMappingURL=widget.js.map